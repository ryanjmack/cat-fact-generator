'use strict';function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var facts=JSON.parse(localStorage.getItem('facts'))||[],quote=document.querySelector('.quote p'),button=document.querySelector('button'),twitter=document.querySelector('.twitter-share-button');function fetchData(){facts.length||fetch('https://cdn.rawgit.com/ryanjmack/7e955181b50311d5fdb4648014eac3e9/raw/185b444693feb728bb47acd22f9b83f98c1f7fd6/cat-facts.json').then(function(b){return b.json()}).then(function(b){facts.push.apply(facts,_toConsumableArray(b.data)),localStorage.setItem('facts',JSON.stringify(facts))}).catch(function(b){console.log(b),quote.innerHTML='Oops! Your browser doesn\'t support <a href="http://caniuse.com/#feat=fetch" class="error">fetch</a>!'}),!localStorage.getItem('fact')?quote.innerHTML='Click the generate button below to generate a fact about cats~~!!!<br><br>Click the twitter bird to share a fact!':quote.textContent=JSON.parse(localStorage.getItem('fact'))}function getRandomIntInclusive(a,b){return a=Math.ceil(a),b=Math.floor(b),Math.floor(Math.random()*(b-a+1))+a}function refreshFact(){var b=getRandomIntInclusive(0,facts.length-1),c=facts[b].fact;c&&(quote.textContent=c,localStorage.setItem('fact',JSON.stringify(c)))}function refreshURL(){var a=quote.textContent;this.href='https://twitter.com/intent/tweet?text='+a}window.onload=fetchData,button.addEventListener('click',refreshFact),twitter.addEventListener('mouseenter',refreshURL);
